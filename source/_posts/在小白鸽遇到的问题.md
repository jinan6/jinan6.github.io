---
title: 在小白鸽遇到的问题
tags:
  - Mybatis
  - 记录
categories:
  - Mybatis
  - 记录
abbrlink: 704219325
date: 2020-08-24 19:42:11
cover: https://cdn.jsdelivr.net/gh/jinan6/PicGo-img/img/20200824200516.png
sticky:
top_img:
---

<div class="snote bug"><p>近期碰到并且已解决的问题</p></div>

### 一个输入框需要传多个字段的情况

![](https://cdn.jsdelivr.net/gh/jinan6/PicGo-img/img/20200824194406.png)

解决：

1. 在实体类新加一个字段

   ```java
   /**用来查询多个值得条件*/
   @Excel(name = "用来查询多个值得条件")
   private String Bastard;
   ```

   生成对应的	get  和 set  ，还有	toString

2. 然后在相应的`xml`里，加入以下配置

   ```xml
   <if test="Bastard != null  and Bastard != ''">
       and (stu.`user_name` like concat('%',#{Bastard},'%')
       or stu.`student_num` = #{Bastard}
       or stu.`phone` = #{Bastard})
   </if>
   ```

3. 然后在对应的`html`里写入对应的`name`即可

   ```html
   <li>
    <input style="border:none; border-bottom:2px solid #eee;outline:none" type="text" name="Bastard" placeholder="学员姓名及首字母/学号/电话"  />
   </li>
   ```

### Mybatis里面的foreach用法

```xml
<if test="className != null  and className != ''">
    and cla.`class_name` in
    <foreach item="item" index="index" collection="className.split(',')"  open="(" separator="," close=")">
        #{item}
    </foreach>
</if>
```

foreach元素的属性主要有 item，index，collection，open，separator，close。

item表示集合中每一个元素进行迭代时的别名.

index指 定一个名字，用于表示在迭代过程中，每次迭代到的位置.

open表示该语句以什么开始，separator表示在每次进行迭代之间以什么符号作为分隔 符.

close表示以什么结束.

```code
# item表示集合中每一个元素进行迭代时的别名.
# index指 定一个名字，用于表示在迭代过程中，每次迭代到的位置.
# collection 为传进来的collection参数的 *类型*
# open表示该语句以什么开始
# separator表示在每次进行迭代之间以什么符号作为分隔符
# close表示以什么结束
```

### SQL语句减法运算

```sql
直接通过“bai+”、“-”符号运算即可;
		//第一个字段				减	第二个字段			别名
SELECT (sub.`purchase_quantity` - sub.`remaining_courses`) a FROM dove_student_subgect sub  
```



**不定时更新补充-----**